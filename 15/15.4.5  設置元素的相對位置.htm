<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>

<head>
<title></title>
</head>
<body>

<style type="text/css">
div {
    width:200px; height:100px; border:solid 1px red; padding:50px; position:absolute; left:50px; top:50px;
}
</style>

<div id="wrap">
    <div id="sub">
        <div id="box"></div>
    </div>
</div>

<script language="javascript" type="text/javascript">
var sub = document.getElementById("sub");
offsetP(sub,{
    x : 10, y : 100
});


//設置元素的相對位置，即相對於目前位置進行偏移
//參數：e表示設置位置的元素，o表示一個對象，物件包含的屬性x代表x軸偏移距離，屬性y代表y軸偏移距離，不用附帶單位，預設以像素為單位
//傳回值：無
function offsetP(e, o){
    (e.style.position) || (e.style.position = "absolute");	//如果元素靜態顯示，則對其進行絕對定位
    e.style.left = getB(e).x + o.x + "px";	//設置x軸的距離
    e.style.top = getB(e).y + o.y + "px";	//設置y軸的距離
}

function getB(e){
    return {
        "x" : (parseInt(getStyle(e, "left")) || 0) ,
        "y" : (parseInt(getStyle(e, "top")) || 0) 
    };
}

function getStyle(e, n)
{
    if(e.style[n])
    {
        return e.style[n];
    }
    else if(e.currentStyle)
    {
        return e.currentStyle[n];
    }
    else if(document.defaultView && document.defaultView.getComputedStyle)
    {
        n = n.replace(/([A-Z])/g, "-$1");
        n = n.toLowerCase();
        var s = document.defaultView.getComputedStyle(e, null);
        if(s) return s.getPropertyValue(n);
    }
    else
    return null;
}

</script>

</body>

</html>
